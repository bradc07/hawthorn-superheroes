<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Hawthorn Superheroes: Platinum Edition</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Bangers&family=Inter:wght@400;600;800;900&family=Rajdhani:wght@500;600;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --bg-deep: #020617;
            --card-bg: #0f172a;

            /* ELEMENTAL COLORS */
            --col-electric: #fbbf24;
            --col-electric-glow: #f59e0b;
            --col-ice: #22d3ee;
            --col-ice-glow: #0ea5e9;
            --col-impact: #ef4444;
            --col-impact-glow: #dc2626;

            /* AMBIENCE (Dynamic) */
            --nebula-1: rgba(76, 29, 149, 0.2);
            --nebula-2: rgba(56, 189, 248, 0.1);

            --ease-smooth: cubic-bezier(0.23, 1, 0.32, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            background-color: var(--bg-deep);
            font-family: "Rajdhani", "Inter", sans-serif;
            color: #fff;
            overflow-x: hidden;
            perspective: 1200px;
            -webkit-tap-highlight-color: transparent;
            cursor: default;
            transition: background-color 1s;
        }

        /* --- DEEP SPACE PARALLAX BACKGROUND --- */
        .space-bg {
            position: fixed;
            inset: 0;
            z-index: -2;
            background: radial-gradient(circle at 50% 50%, #1e1b4b 0%, #020617 100%);
            overflow: hidden;
            transition: 1s;
        }

        .stars {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            box-shadow: 100px 200px #fff, 400px 500px #fff, 700px 100px #fff, 900px 800px #fff;
            animation: starMove 100s linear infinite;
            opacity: 0.5;
        }

        .stars.md {
            width: 3px;
            height: 3px;
            animation-duration: 150s;
            opacity: 0.3;
        }

        @keyframes starMove {
            from {
                transform: translateY(0);
            }

            to {
                transform: translateY(-2000px);
            }
        }

        .nebula-layer {
            position: absolute;
            inset: -50%;
            background: radial-gradient(circle at 20% 30%, var(--nebula-1), transparent 50%), radial-gradient(circle at 80% 70%, var(--nebula-2), transparent 50%);
            filter: blur(60px);
            animation: nebulaPulse 20s ease-in-out infinite alternate;
            transition: background 1.5s;
        }

        @keyframes nebulaPulse {
            0% {
                opacity: 0.5;
                transform: scale(1);
            }

            100% {
                opacity: 0.8;
                transform: scale(1.1);
            }
        }

        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            background: linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            mask-image: radial-gradient(circle at center, black 30%, transparent 90%);
        }

        .app {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            padding-bottom: 6rem;
        }

        /* HEADER */
        header {
            text-align: center;
            margin: 3rem 0 3rem 0;
            animation: fadeSlideDown 1s var(--ease-smooth) forwards;
            position: relative;
        }

        header h1 {
            font-family: "Bangers", cursive;
            font-size: clamp(4rem, 12vw, 8rem);
            letter-spacing: 4px;
            line-height: 0.9;
            background: linear-gradient(180deg, #ffffff 20%, #94a3b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 40px rgba(255, 255, 255, 0.15));
            margin-bottom: 1rem;
            transform: skewY(-2deg);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #38bdf8;
            letter-spacing: 8px;
            text-transform: uppercase;
            font-weight: 700;
            display: inline-block;
            padding: 0.5rem 2rem;
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid rgba(56, 189, 248, 0.3);
            border-radius: 4px;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.2);
        }

        /* --- CONTROLS BAR --- */
        .controls-bar {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 3rem;
            animation: fadeSlideDown 1.2s var(--ease-smooth) forwards;
        }

        .filter-group {
            display: flex;
            gap: 0.5rem;
            background: rgba(15, 23, 42, 0.8);
            padding: 0.5rem;
            border-radius: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .filter-btn {
            background: transparent;
            border: none;
            color: #94a3b8;
            padding: 0.8rem 2rem;
            border-radius: 30px;
            font-family: "Rajdhani";
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: 0.3s;
        }

        .filter-btn:hover,
        .filter-btn.active {
            color: #fff;
            background: rgba(255, 255, 255, 0.1);
            text-shadow: 0 0 10px currentColor;
        }

        .filter-btn.active {
            background: var(--active-color);
            color: #000;
            text-shadow: none;
            box-shadow: 0 0 20px var(--active-color);
        }

        /* --- GRID --- */
        .hero-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 3rem;
            padding-top: 1rem;
        }

        .hero-card-container {
            perspective: 1500px;
            transition: 0.5s;
        }

        .hero-card-container.hidden {
            display: none;
        }

        /* --- CARD --- */
        .hero-card {
            height: 500px;
            background: var(--card-bg);
            border-radius: 20px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.2s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.3s, border-color 0.3s;
            cursor: pointer;
            overflow: hidden;
            opacity: 0;
            transform: translateY(100px) rotateX(10deg);
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .hero-card.reveal {
            opacity: 1;
            transform: translateY(0) rotateX(0);
            transition: opacity 0.8s ease-out, transform 0.8s var(--ease-smooth);
        }

        .hero-card:hover {
            z-index: 10;
            box-shadow: 0 50px 80px -20px rgba(0, 0, 0, 0.9);
        }

        /* Glows */
        .hero-card[data-type="electric"]:hover {
            box-shadow: 0 0 50px rgba(251, 191, 36, 0.3);
            border-color: var(--col-electric);
        }

        .hero-card[data-type="ice"]:hover {
            box-shadow: 0 0 50px rgba(34, 211, 238, 0.3);
            border-color: var(--col-ice);
        }

        .hero-card[data-type="impact"]:hover {
            box-shadow: 0 0 50px rgba(239, 68, 68, 0.3);
            border-color: var(--col-impact);
        }

        /* Holographic Scanline */
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 30;
            background: linear-gradient(to bottom, transparent 40%, rgba(255, 255, 255, 0.1) 50%, transparent 60%);
            background-size: 100% 200%;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .hero-card:hover .scan-line {
            opacity: 1;
            animation: scanDown 2s infinite linear;
        }

        @keyframes scanDown {
            0% {
                background-position: 0% 0%;
            }

            100% {
                background-position: 0% 200%;
            }
        }

        /* Foil */
        .card-foil {
            position: absolute;
            inset: 0;
            z-index: 20;
            opacity: 0;
            transition: opacity 0.4s;
            pointer-events: none;
            background: linear-gradient(115deg, transparent 20%, rgba(255, 255, 255, 0.4) 30%, rgba(255, 0, 255, 0.3) 40%, rgba(0, 255, 255, 0.3) 50%, rgba(255, 255, 0, 0.3) 60%, transparent 80%);
            mix-blend-mode: overlay;
            transform: translateZ(1px);
            background-size: 200% 200%;
        }

        .hero-card:hover .card-foil {
            opacity: 1;
        }

        /* Image */
        .card-image-wrapper {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .hero-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), filter 0.5s;
            filter: grayscale(0.2) contrast(1.1);
        }

        .hero-card:hover img {
            transform: scale(1.1);
            filter: grayscale(0) contrast(1.2);
        }

        /* Content */
        .card-content {
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 1.5rem;
            background: linear-gradient(to top, rgba(2, 6, 23, 0.95) 20%, rgba(2, 6, 23, 0.6) 80%, transparent 100%);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            transform: translateZ(20px);
            height: 50%;
        }

        .hero-name {
            font-family: "Bangers", cursive;
            font-size: 3rem;
            letter-spacing: 2px;
            color: #fff;
            line-height: 0.9;
            margin-bottom: 0.25rem;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.8);
            transition: 0.3s;
            transform-origin: left;
        }

        .hero-card:hover .hero-name {
            transform: scale(1.05);
        }

        .hero-alias {
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: rgba(255, 255, 255, 0.7);
            background: rgba(0, 0, 0, 0.5);
            padding: 4px 10px;
            border-radius: 4px;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: inline-block;
        }

        /* Class Badge */
        .class-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            font-family: "Rajdhani";
            font-weight: 700;
            font-size: 0.8rem;
            padding: 4px 8px;
            border-radius: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 25;
            backdrop-filter: blur(4px);
            transform: translateZ(30px);
        }

        /* --- MODAL --- */
        .modal-overlay {
            position: fixed;
            inset: 0;
            z-index: 1600;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(2, 6, 23, 0.6);
            backdrop-filter: blur(0px);
            transition: 0.4s;
            pointer-events: none;
            opacity: 0;
        }

        .modal-overlay.active {
            background: rgba(2, 6, 23, 0.85);
            backdrop-filter: blur(15px);
            pointer-events: all;
            opacity: 1;
        }

        .modal-card {
            width: min(1100px, 95%);
            height: min(700px, 90vh);
            background: rgba(15, 23, 42, 0.9);
            border-radius: 16px;
            box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1), 0 50px 100px -20px rgba(0, 0, 0, 0.8);
            transform: scale(0.95) translateY(20px);
            transition: 0.5s var(--ease-smooth);
            display: grid;
            grid-template-columns: 45% 55%;
            overflow: hidden;
            position: relative;
        }

        .modal-overlay.active .modal-card {
            transform: scale(1) translateY(0);
            background: rgba(15, 23, 42, 0.95);
        }

        .modal-col-img {
            position: relative;
            height: 100%;
            overflow: hidden;
        }

        .modal-image-full {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
            mask-image: linear-gradient(to right, black 80%, transparent 100%);
        }

        .modal-col-data {
            padding: 3rem;
            display: flex;
            flex-direction: column;
            background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.03), transparent 70%);
            overflow-y: auto;
            position: relative;
        }

        .modal-name-display {
            font-family: "Bangers";
            font-size: 5rem;
            line-height: 0.9;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(180deg, #fff, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-role-display {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            font-weight: 700;
            color: var(--theme-color);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .modal-desc {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #cbd5e1;
            margin-bottom: 2.5rem;
            font-weight: 300;
            border-left: 2px solid rgba(255, 255, 255, 0.1);
            padding-left: 1.5rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .dash-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .move-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .move-name {
            font-weight: 600;
            font-size: 0.95rem;
            color: #e2e8f0;
        }

        .move-val {
            font-family: "Bangers";
            font-size: 1.4rem;
            color: var(--theme-color);
            text-shadow: 0 0 10px currentColor;
        }

        .stat-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .stat-label {
            width: 90px;
            font-size: 0.75rem;
            font-weight: 700;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-track {
            flex-grow: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }

        .stat-fill {
            height: 100%;
            width: 0%;
            position: relative;
            z-index: 1;
            transition: width 1.5s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .fill-electric {
            background: #fbbf24;
            box-shadow: 0 0 15px #fbbf24;
        }

        .fill-ice {
            background: #22d3ee;
            box-shadow: 0 0 15px #22d3ee;
        }

        .fill-impact {
            background: #ef4444;
            box-shadow: 0 0 15px #ef4444;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            z-index: 20;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.2s;
        }

        .close-btn:hover {
            color: #fff;
            transform: rotate(90deg);
        }

        /* FX */
        #flashOverlay {
            position: fixed;
            inset: 0;
            background: #fff;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.1s;
            mix-blend-mode: overlay;
        }

        #flashOverlay.active {
            opacity: 0.8;
        }

        #particleContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1500;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            animation: burstOut 0.8s ease-out forwards;
        }

        @keyframes burstOut {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }

            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0);
            }
        }

        /* RESPONSIVE */
        @media (max-width: 900px) {
            .modal-card {
                grid-template-columns: 1fr;
                height: auto;
                max-height: 90vh;
                overflow-y: auto;
                display: flex;
                flex-direction: column;
            }

            .modal-col-img {
                height: 250px;
                flex-shrink: 0;
                mask-image: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .modal-col-data {
                padding: 1.5rem;
                overflow: visible;
            }

            .modal-name-display {
                font-size: 3rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        @keyframes fadeSlideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

    <div class="space-bg">
        <div class="stars"></div>
        <div class="stars md"></div>
        <div class="nebula-layer"></div>
    </div>
    <div class="grid-overlay"></div>
    <div id="flashOverlay"></div>
    <div id="particleContainer"></div>

    <div class="app">
        <header>
            <h1>Hawthorn <span style="color:#fbbf24; text-shadow: 0 0 30px #fbbf24;">Superheroes</span></h1>
            <div class="subtitle">Platinum Edition</div>
        </header>

        <div class="controls-bar">
            <div class="filter-group">
                <button class="filter-btn active" onclick="filterGrid('all', this)"
                    style="--active-color:#fff">All</button>
                <button class="filter-btn" onclick="filterGrid('electric', this)"
                    style="--active-color:#fbbf24">Electric</button>
                <button class="filter-btn" onclick="filterGrid('ice', this)" style="--active-color:#22d3ee">Ice</button>
                <button class="filter-btn" onclick="filterGrid('impact', this)"
                    style="--active-color:#ef4444">Impact</button>
            </div>
        </div>

        <div id="heroGrid" class="hero-grid"></div>
    </div>

    <!-- DOSSIER MODAL -->
    <div id="modalOverlay" class="modal-overlay" onclick="closeModal()">
        <div id="modalCard" class="modal-card" onclick="event.stopPropagation()">
            <div class="close-btn" onclick="closeModal()">Ã—</div>
            <div class="modal-col-img">
                <img id="modalImage" class="modal-image-full">
                <div id="modalTypeBadge" class="modal-type-badge"
                    style="position:absolute; top:30px; left:30px; width:70px; height:70px; border-radius:12px; background:rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.2); color:#fff; display:flex; align-items:center; justify-content:center; font-size:2.5rem; backdrop-filter:blur(10px); z-index:5; box-shadow:0 10px 30px rgba(0,0,0,0.5);">
                </div>
            </div>
            <div class="modal-col-data">
                <div class="modal-header-group">
                    <div id="modalName" class="modal-name-display"></div>
                    <div id="modalRole" class="modal-role-display"></div>
                </div>
                <p id="modalDescription" class="modal-desc"></p>
                <div class="dashboard-grid">
                    <div class="dash-panel">
                        <div class="panel-label"
                            style="font-size:0.7rem; text-transform:uppercase; color:#64748b; font-weight:800; margin-bottom:1.2rem; letter-spacing:2px; display:flex; justify-content:space-between;">
                            <span>Signature Moves</span> <span>PWR</span></div>
                        <div id="modalMoves"></div>
                    </div>
                    <div class="dash-panel">
                        <div class="panel-label"
                            style="font-size:0.7rem; text-transform:uppercase; color:#64748b; font-weight:800; margin-bottom:1.2rem; letter-spacing:2px; display:flex; justify-content:space-between;">
                            <span>Attributes</span> <span>LVL</span></div>
                        <div id="modalStats"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /* HERO DATA (Full Bios Restored) */
        const heroes = [
            {
                id: "art", type: "electric", icon: "âš¡", role: "Speedster Class", name: "Art", alias: "Velocity", image: "images/art.png",
                description: "Known as the fastest kid alive, Art can circumvent the globe before his toast pops up. He generates a velocity field that allows him to run up vertical skyscrapers and across water without sinking. When the team is in trouble, Art is already there.",
                moves: [{ name: "Hypersonic Sprint", pwr: 94 }, { name: "Vertical Wall Run", pwr: 75 }, { name: "Vacuum Funnel", pwr: 88 }],
                stats: { bravery: 4, speed: 5, strength: 3, teamwork: 4, focus: 5 }
            },
            {
                id: "alexei", type: "electric", icon: "âš¡", role: "Tech Artificer", name: "Alexei", alias: "Magnet Master", image: "images/alexei.png",
                description: "A mechanical prodigy with a magnetic personality. Alexei can sense the atomic structure of any metal nearby, reshaping scrap heaps into complex defensive fortresses in seconds. His mind works like a supercomputer.",
                moves: [{ name: "Magnetic Crush", pwr: 90 }, { name: "Scrap Shield", pwr: 85 }, { name: "Tech Disruption", pwr: 70 }],
                stats: { bravery: 4, speed: 3, strength: 3, teamwork: 5, focus: 5 }
            },
            {
                id: "florrie", type: "ice", icon: "â„ï¸", role: "Cryomancer", name: "Florrie", alias: "Frostbeam", image: "images/florrie.png",
                description: "With a single touch, Florrie can lower the temperature of a room to absolute zero. She uses her powers creatively, building ice bridges for rescue missions or creating slippery surfaces to trip up villains.",
                moves: [{ name: "Flash Freeze", pwr: 88 }, { name: "Glacial Wall", pwr: 92 }, { name: "Ice Slide", pwr: 65 }],
                stats: { bravery: 4, speed: 3, strength: 3, teamwork: 5, focus: 4 }
            },
            {
                id: "joshua", type: "impact", icon: "ðŸ’¥", role: "Guardian Tank", name: "Joshua", alias: "Shield Guardian", image: "images/joshua.png",
                description: "The unbreakable heart of the team, Joshua wields a shield made of pure kinetic energy. He doesn't just block attacks; he absorbs their energy to charge up his own strength. Joshua ensures no teammate is left behind.",
                moves: [{ name: "Titan Charge", pwr: 95 }, { name: "Energy Reflect", pwr: 85 }, { name: "Shield Bash", pwr: 80 }],
                stats: { bravery: 5, speed: 3, strength: 4, teamwork: 5, focus: 3 }
            },
            {
                id: "lulu", type: "electric", icon: "âš¡", role: "Speed Striker", name: "Lulu", alias: "Red Comet", image: "images/lulu.png",
                description: "Lulu vibrates at such a high frequency that he appears as a red blur. Specializing in stealth and rapid strikes, he can disarm a room of bad guys before they even blink. He is the spark that ignites the team.",
                moves: [{ name: "Mach-1 Strike", pwr: 93 }, { name: "Red Blur", pwr: 82 }, { name: "After-Image", pwr: 70 }],
                stats: { bravery: 5, speed: 5, strength: 3, teamwork: 5, focus: 4 }
            },
            {
                id: "manny", type: "impact", icon: "ðŸ’¥", role: "Heavy Hitter", name: "Manny", alias: "Earth Hammer", image: "images/manny.png",
                description: "Manny is connected to the very core of the planet, allowing him to channel seismic energy through his fists. He can reshape the battlefield by creating tremors or raising stone walls. He is the gentlest soul on the team.",
                moves: [{ name: "Seismic Slam", pwr: 96 }, { name: "Tremor Wave", pwr: 85 }, { name: "Fortify", pwr: 90 }],
                stats: { bravery: 5, speed: 2, strength: 5, teamwork: 5, focus: 3 }
            },
            {
                id: "maurits", type: "ice", icon: "â„ï¸", role: "Storm Mage", name: "Maurits", alias: "Storm Caller", image: "images/maurits.png",
                description: "Maurits commands the atmosphere itself, summoning rain, wind, and lightning at will. Whether the team needs a fog screen for stealth or a lightning bolt for power, he delivers. His mood often reflects the weather.",
                moves: [{ name: "Lightning Bolt", pwr: 94 }, { name: "Blizzard Howl", pwr: 88 }, { name: "Fog Cover", pwr: 60 }],
                stats: { bravery: 4, speed: 3, strength: 3, teamwork: 5, focus: 5 }
            },
            {
                id: "noa", type: "impact", icon: "ðŸ’¥", role: "Sniper Scout", name: "Noa", alias: "Sky Archer", image: "images/noa.png",
                description: "Possessing telescopic vision and unerring accuracy, Noa can spot a danger from three miles away. She uses specialized trick arrows that can trap, stun, or illuminate targets. She is the eyes of the team.",
                moves: [{ name: "Sure Shot", pwr: 95 }, { name: "Eagle Eye", pwr: 50 }, { name: "Ricochet Arrow", pwr: 82 }],
                stats: { bravery: 4, speed: 4, strength: 3, teamwork: 5, focus: 4 }
            },
            {
                id: "noah", type: "ice", icon: "â„ï¸", role: "Sonic Controller", name: "Noah", alias: "Soundwave", image: "images/noah.png",
                description: "Noah sees the world in frequencies and vibrations. She can create absolute silence to hide the team's footsteps or unleash a sonic boom that knocks opponents off their feet. She can 'see' through walls using echolocation.",
                moves: [{ name: "Sonic Boom", pwr: 91 }, { name: "Silence Bubble", pwr: 70 }, { name: "Echo Pulse", pwr: 85 }],
                stats: { bravery: 4, speed: 3, strength: 3, teamwork: 5, focus: 4 }
            },
            {
                id: "phaedra", type: "ice", icon: "â„ï¸", role: "Wind Dancer", name: "Phaedra", alias: "Whirlwind", image: "images/phaedra.png",
                description: "Phaedra dances on the air currents, moving with a grace that defies gravity. She can conjure powerful tornadoes to sweep enemies away or create soft air cushions to save falling civilians. She reminds the team that power can be light, elegant, and free.",
                moves: [{ name: "Tornado Spin", pwr: 96 }, { name: "Hurricane Blast", pwr: 92 }, { name: "Air Cushion", pwr: 82 }],
                stats: { bravery: 4, speed: 5, strength: 3, teamwork: 5, focus: 5 }
            },
            {
                id: "rex", type: "electric", icon: "âš¡", role: "Trickster", name: "Rex", alias: "Triple Strike", image: "images/rex.png",
                description: "Rex exists in three places at once, splitting into temporal clones to overwhelm opponents. He uses this ability to solve complex puzzles and confuse villains, making them wonder which Rex is the real one.",
                moves: [{ name: "Tri-Attack", pwr: 92 }, { name: "Clone Swap", pwr: 75 }, { name: "Confusion", pwr: 65 }],
                stats: { bravery: 5, speed: 4, strength: 3, teamwork: 5, focus: 3 }
            },
            {
                id: "rory", type: "impact", icon: "ðŸ’¥", role: "Duelist", name: "Rory", alias: "Blue Flash", image: "images/rory.png",
                description: "Rory wields twin blades made of solidified plasma that can cut through any material known to science. He moves with the discipline of a master swordsman, glowing with a blue aura that lights up the darkest caverns.",
                moves: [{ name: "Blade Dance", pwr: 93 }, { name: "Cross Slash", pwr: 88 }, { name: "Flash Cut", pwr: 90 }],
                stats: { bravery: 5, speed: 4, strength: 3, teamwork: 5, focus: 4 }
            },
            {
                id: "viola", type: "impact", icon: "ðŸ’¥", role: "Blade Master", name: "Viola", alias: "Twin Saber", image: "images/viola.png",
                description: "Viola turns combat into an art form, using her twin energy sabers to deflect incoming projectiles with perfect timing. She is the team's defensive specialist, creating a spinning barrier of light. Her elegance is her weapon.",
                moves: [{ name: "Saber Deflect", pwr: 94 }, { name: "Twin Strike", pwr: 89 }, { name: "Pushback", pwr: 80 }],
                stats: { bravery: 5, speed: 4, strength: 3, teamwork: 5, focus: 4 }
            },
            {
                id: "wilbur", type: "impact", icon: "ðŸ’¥", role: "Titan", name: "Wilbur", alias: "Titan Punch", image: "images/wilbur.png",
                description: "Possessing the strength of a hundred men, Wilbur is the team's muscle. Yet, he treats the world with extreme care, able to lift a collapsing building one moment and pick up a fragile flower the next.",
                moves: [{ name: "Mega Punch", pwr: 98 }, { name: "Ground Breaker", pwr: 92 }, { name: "Atlas Lift", pwr: 85 }],
                stats: { bravery: 5, speed: 3, strength: 5, teamwork: 5, focus: 4 }
            },
            {
                id: "zane", type: "electric", icon: "âš¡", role: "Technomancer", name: "Zane", alias: "Storm Pulse", image: "images/zane.png",
                description: "Zane is a living battery, crackling with raw static electricity. He can interface with any computer by touching it, overload enemy robots, or fire precise bolts of lightning. When the lights go out, Zane powers the city.",
                moves: [{ name: "Overload", pwr: 95 }, { name: "Static Shock", pwr: 85 }, { name: "EMP Blast", pwr: 90 }],
                stats: { bravery: 5, speed: 5, strength: 3, teamwork: 5, focus: 4 }
            }
        ];
        heroes.sort((a, b) => a.name.localeCompare(b.name));

        /* --- CINEMATIC AUDIO ENGINE --- */
        const AudioEngine = {
            ctx: null,
            init: function () { if (!this.ctx) this.ctx = new (window.AudioContext || window.webkitAudioContext)(); },

            createNoise: function () {
                const bufferSize = this.ctx.sampleRate * 2;
                const buffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
                const data = buffer.getChannelData(0);
                for (let i = 0; i < bufferSize; i++) data[i] = Math.random() * 2 - 1;
                return buffer;
            },

            hover: function () {
                if (!this.ctx) return;
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                const filter = this.ctx.createBiquadFilter();
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(50, this.ctx.currentTime);
                filter.type = 'lowpass';
                filter.frequency.setValueAtTime(200, this.ctx.currentTime);
                filter.frequency.linearRampToValueAtTime(800, this.ctx.currentTime + 0.1);
                gain.gain.setValueAtTime(0.05, this.ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.2);
                osc.connect(filter); filter.connect(gain); gain.connect(this.ctx.destination);
                osc.start(); osc.stop(this.ctx.currentTime + 0.2);
            },

            click: function () {
                if (!this.ctx) return;
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.type = 'square';
                osc.frequency.setValueAtTime(150, this.ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(40, this.ctx.currentTime + 0.1);
                gain.gain.setValueAtTime(0.1, this.ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.1);
                osc.connect(gain); gain.connect(this.ctx.destination);
                osc.start(); osc.stop(this.ctx.currentTime + 0.1);
            },

            whoosh: function () {
                if (!this.ctx) return;
                const noise = this.ctx.createBufferSource();
                noise.buffer = this.createNoise();
                const filter = this.ctx.createBiquadFilter();
                const gain = this.ctx.createGain();
                filter.type = 'lowpass';
                filter.frequency.setValueAtTime(100, this.ctx.currentTime);
                filter.frequency.exponentialRampToValueAtTime(3000, this.ctx.currentTime + 0.5);
                gain.gain.setValueAtTime(0.2, this.ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.8);
                noise.connect(filter); filter.connect(gain); gain.connect(this.ctx.destination);
                noise.start();
            }
        };

        // Auto-Init Audio on First Click
        document.addEventListener('click', () => {
            AudioEngine.init();
        }, { once: true });

        /* --- RENDER --- */
        const grid = document.getElementById("heroGrid");

        function renderGrid(filterType = 'all') {
            grid.innerHTML = heroes.map(hero => {
                const isHidden = filterType !== 'all' && hero.type !== filterType;
                if (isHidden) return '';

                return `
      <div class="hero-card-container">
        <div class="hero-card" id="card-${hero.id}" data-type="${hero.type}" 
             onclick="triggerMegaReveal('${hero.id}')" 
             onmouseenter="AudioEngine.hover()"
             onmousemove="tiltCard(event, this)" 
             onmouseleave="resetTilt(this)">
          <div class="class-badge">${hero.role.split(' ')[0]}</div>
          <div class="scan-line"></div>
          <div class="card-foil"></div>
          <div class="card-image-wrapper">
            <img src="${hero.image}" alt="${hero.name}" onerror="this.src='https://placehold.co/400x500/1e293b/FFF?text=${hero.name.charAt(0)}'">
          </div>
          <div class="card-content">
            <div class="hero-name">${hero.name}</div>
            <div class="hero-alias">${hero.alias}</div>
          </div>
        </div>
      </div>
    `;
            }).join("");

            setTimeout(() => {
                document.querySelectorAll('.hero-card').forEach((card, i) => {
                    setTimeout(() => card.classList.add('reveal'), i * 50);
                });
            }, 50);
        }

        renderGrid();

        /* --- REVEAL LOGIC --- */
        function triggerMegaReveal(id) {
            AudioEngine.click();
            const hero = heroes.find(h => h.id === id);
            const flash = document.getElementById('flashOverlay');
            flash.classList.add('active');
            setTimeout(() => flash.classList.remove('active'), 150);
            createMegaBurst(hero.type);
            setTimeout(() => { openModal(hero); AudioEngine.whoosh(); }, 100);
        }

        function createMegaBurst(type) {
            const container = document.getElementById('particleContainer');
            container.innerHTML = '';
            const colors = type === 'electric' ? ['#fbbf24', '#fffbeb'] : type === 'ice' ? ['#22d3ee', '#ecfeff'] : ['#ef4444', '#fef2f2'];
            for (let i = 0; i < 40; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                const angle = Math.random() * Math.PI * 2;
                const velocity = 200 + Math.random() * 400;
                p.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                p.style.width = (3 + Math.random() * 5) + 'px'; p.style.height = p.style.width;
                p.style.left = window.innerWidth / 2 + 'px'; p.style.top = window.innerHeight / 2 + 'px';
                p.style.setProperty('--tx', Math.cos(angle) * velocity + 'px');
                p.style.setProperty('--ty', Math.sin(angle) * velocity + 'px');
                container.appendChild(p);
                setTimeout(() => p.remove(), 1000);
            }
        }

        /* --- MODAL --- */
        const overlay = document.getElementById("modalOverlay");
        const modalCardEl = document.getElementById("modalCard");
        const modalImage = document.getElementById("modalImage");
        const typeBadge = document.getElementById("modalTypeBadge");
        const nameEl = document.getElementById("modalName");
        const roleEl = document.getElementById("modalRole");
        const descEl = document.getElementById("modalDescription");
        const movesEl = document.getElementById("modalMoves");
        const statsEl = document.getElementById("modalStats");

        function openModal(hero) {
            modalImage.src = hero.image;
            modalImage.onerror = function () { this.src = `https://placehold.co/400x500/1e293b/FFF?text=${hero.name.charAt(0)}` };
            const themeColor = hero.type === 'electric' ? '#fbbf24' : hero.type === 'ice' ? '#22d3ee' : '#ef4444';
            const statClass = hero.type === 'electric' ? 'fill-electric' : hero.type === 'ice' ? 'fill-ice' : 'fill-impact';

            modalCardEl.style.setProperty('--theme-color', themeColor);
            typeBadge.style.borderColor = themeColor; typeBadge.style.color = themeColor; typeBadge.innerHTML = hero.icon; typeBadge.style.boxShadow = `0 0 30px ${themeColor}`;
            nameEl.textContent = hero.name; roleEl.innerHTML = `${hero.alias} â€¢ ${hero.role}`; descEl.textContent = hero.description;

            movesEl.innerHTML = hero.moves.map(m => `<div class="move-row"><span class="move-name">${m.name}</span><span class="move-val">${m.pwr}</span></div>`).join("");
            statsEl.innerHTML = `
    ${createStatRow('Bravery', hero.stats.bravery, statClass)}
    ${createStatRow('Speed', hero.stats.speed, statClass)}
    ${createStatRow('Strength', hero.stats.strength, statClass)}
    ${createStatRow('Teamwork', hero.stats.teamwork, statClass)}
    ${createStatRow('Focus', hero.stats.focus, statClass)}
  `;
            overlay.classList.add("active");
            setTimeout(() => { document.querySelectorAll('.stat-fill').forEach((bar, i) => setTimeout(() => bar.style.width = bar.getAttribute('data-pct'), i * 100)); }, 300);
        }

        function createStatRow(label, val, colorClass) {
            const pct = (val / 5) * 100 + '%';
            return `<div class="stat-row"><div class="stat-label">${label}</div><div class="stat-track"><div class="stat-fill ${colorClass}" data-pct="${pct}"></div></div></div>`;
        }

        function closeModal() {
            AudioEngine.click();
            overlay.classList.remove("active");
            document.querySelectorAll('.stat-fill').forEach(bar => bar.style.width = '0%');
        }

        /* --- TILT --- */
        function tiltCard(e, card) {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left; const y = e.clientY - rect.top;
            const rotateX = ((y - rect.height / 2) / (rect.height / 2)) * -8;
            const rotateY = ((x - rect.width / 2) / (rect.width / 2)) * 8;
            card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.02)`;
            card.querySelector('.card-foil').style.backgroundPosition = `${50 + (x / rect.width) * 50}% ${50 + (y / rect.height) * 50}%`;
        }
        function resetTilt(card) { card.style.transform = `rotateX(0deg) rotateY(0deg) scale(1)`; }

        /* --- FILTER & AMBIENCE --- */
        function filterGrid(type, btn) {
            AudioEngine.click();
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Update Ambience
            const root = document.documentElement;
            if (type === 'electric') {
                root.style.setProperty('--nebula-1', 'rgba(251, 191, 36, 0.2)');
                root.style.setProperty('--nebula-2', 'rgba(245, 158, 11, 0.1)');
            } else if (type === 'ice') {
                root.style.setProperty('--nebula-1', 'rgba(34, 211, 238, 0.2)');
                root.style.setProperty('--nebula-2', 'rgba(14, 165, 233, 0.1)');
            } else if (type === 'impact') {
                root.style.setProperty('--nebula-1', 'rgba(239, 68, 68, 0.2)');
                root.style.setProperty('--nebula-2', 'rgba(220, 38, 38, 0.1)');
            } else {
                root.style.setProperty('--nebula-1', 'rgba(76, 29, 149, 0.2)');
                root.style.setProperty('--nebula-2', 'rgba(56, 189, 248, 0.1)');
            }

            document.querySelectorAll('.hero-card-container').forEach(c => c.classList.add('hidden'));
            setTimeout(() => renderGrid(type), 300);
        }
    </script>

</body>

</html>